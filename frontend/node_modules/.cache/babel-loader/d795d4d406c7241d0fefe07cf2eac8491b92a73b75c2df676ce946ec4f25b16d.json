{"ast":null,"code":"var _jsxFileName = \"/home/gusta/desafio-fullstack-veritas/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport KanbanBoard from './components/KanbanBoard';\nimport TaskForm from './components/TaskForm';\nimport { api } from './services/api';\nimport './styles/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [tasks, setTasks] = useState([]); // Garantir que começa como array vazio\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [editingTask, setEditingTask] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n  const fetchTasks = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const data = await api.getTasks();\n      // Garantir que sempre seja um array, mesmo se a API retornar null\n      setTasks(Array.isArray(data) ? data : []);\n    } catch (err) {\n      setError('Erro ao carregar tarefas: ' + err.message);\n      setTasks([]); // Garantir array vazio em caso de erro\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCreateTask = async taskData => {\n    setError('');\n    try {\n      const newTask = await api.createTask(taskData);\n      setTasks(prevTasks => [...prevTasks, newTask]);\n      setShowForm(false);\n    } catch (err) {\n      setError('Erro ao criar tarefa: ' + err.message);\n    }\n  };\n  const handleUpdateTask = async taskData => {\n    setError('');\n    try {\n      const updatedTask = await api.updateTask(taskData.id, taskData);\n      setTasks(prevTasks => prevTasks.map(task => task.id === taskData.id ? updatedTask : task));\n      setEditingTask(null);\n      setShowForm(false);\n    } catch (err) {\n      setError('Erro ao atualizar tarefa: ' + err.message);\n    }\n  };\n  const handleDeleteTask = async taskId => {\n    setError('');\n    try {\n      await api.deleteTask(taskId);\n      setTasks(prevTasks => prevTasks.filter(task => task.id !== taskId));\n    } catch (err) {\n      setError('Erro ao excluir tarefa: ' + err.message);\n    }\n  };\n  const handleMoveTask = async (taskId, newStatus) => {\n    const task = tasks.find(t => t.id === taskId);\n    if (task) {\n      await handleUpdateTask({\n        ...task,\n        status: newStatus\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Mini Kanban\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary\",\n        onClick: () => {\n          setEditingTask(null);\n          setShowForm(true);\n        },\n        children: \"Nova Tarefa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 23\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }, this), showForm && /*#__PURE__*/_jsxDEV(TaskForm, {\n      task: editingTask,\n      onSubmit: editingTask ? handleUpdateTask : handleCreateTask,\n      onCancel: () => {\n        setShowForm(false);\n        setEditingTask(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(KanbanBoard, {\n      tasks: tasks || [] // Garantir que nunca seja null\n      ,\n      onEdit: task => {\n        setEditingTask(task);\n        setShowForm(true);\n      },\n      onDelete: handleDeleteTask,\n      onMove: handleMoveTask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"uYMmnFdzu8m5ixJxFmhm4TlX47o=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","KanbanBoard","TaskForm","api","jsxDEV","_jsxDEV","App","_s","tasks","setTasks","loading","setLoading","error","setError","editingTask","setEditingTask","showForm","setShowForm","fetchTasks","data","getTasks","Array","isArray","err","message","handleCreateTask","taskData","newTask","createTask","prevTasks","handleUpdateTask","updatedTask","updateTask","id","map","task","handleDeleteTask","taskId","deleteTask","filter","handleMoveTask","newStatus","find","t","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","onCancel","onEdit","onDelete","onMove","_c","$RefreshReg$"],"sources":["/home/gusta/desafio-fullstack-veritas/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport KanbanBoard from './components/KanbanBoard';\nimport TaskForm from './components/TaskForm';\nimport { api } from './services/api';\nimport './styles/App.css';\n\nfunction App() {\n    const [tasks, setTasks] = useState([]); // Garantir que começa como array vazio\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [editingTask, setEditingTask] = useState(null);\n    const [showForm, setShowForm] = useState(false);\n\n    useEffect(() => {\n        fetchTasks();\n    }, []);\n\n    const fetchTasks = async () => {\n        setLoading(true);\n        setError('');\n        try {\n            const data = await api.getTasks();\n            // Garantir que sempre seja um array, mesmo se a API retornar null\n            setTasks(Array.isArray(data) ? data : []);\n        } catch (err) {\n            setError('Erro ao carregar tarefas: ' + err.message);\n            setTasks([]); // Garantir array vazio em caso de erro\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleCreateTask = async (taskData) => {\n        setError('');\n        try {\n            const newTask = await api.createTask(taskData);\n            setTasks(prevTasks => [...prevTasks, newTask]);\n            setShowForm(false);\n        } catch (err) {\n            setError('Erro ao criar tarefa: ' + err.message);\n        }\n    };\n\n    const handleUpdateTask = async (taskData) => {\n        setError('');\n        try {\n            const updatedTask = await api.updateTask(taskData.id, taskData);\n            setTasks(prevTasks => prevTasks.map(task => task.id === taskData.id ? updatedTask : task));\n            setEditingTask(null);\n            setShowForm(false);\n        } catch (err) {\n            setError('Erro ao atualizar tarefa: ' + err.message);\n        }\n    };\n\n    const handleDeleteTask = async (taskId) => {\n        setError('');\n        try {\n            await api.deleteTask(taskId);\n            setTasks(prevTasks => prevTasks.filter(task => task.id !== taskId));\n        } catch (err) {\n            setError('Erro ao excluir tarefa: ' + err.message);\n        }\n    };\n\n    const handleMoveTask = async (taskId, newStatus) => {\n        const task = tasks.find(t => t.id === taskId);\n        if (task) {\n            await handleUpdateTask({ ...task, status: newStatus });\n        }\n    };\n\n    return (\n        <div className=\"app\">\n            <header className=\"app-header\">\n                <h1>Mini Kanban</h1>\n                <button \n                    className=\"btn-primary\"\n                    onClick={() => {\n                        setEditingTask(null);\n                        setShowForm(true);\n                    }}\n                >\n                    Nova Tarefa\n                </button>\n            </header>\n\n            {error && <div className=\"error-message\">{error}</div>}\n            {loading && <div className=\"loading\">Carregando...</div>}\n\n            {showForm && (\n                <TaskForm\n                    task={editingTask}\n                    onSubmit={editingTask ? handleUpdateTask : handleCreateTask}\n                    onCancel={() => {\n                        setShowForm(false);\n                        setEditingTask(null);\n                    }}\n                />\n            )}\n\n            <KanbanBoard\n                tasks={tasks || []} // Garantir que nunca seja null\n                onEdit={(task) => {\n                    setEditingTask(task);\n                    setShowForm(true);\n                }}\n                onDelete={handleDeleteTask}\n                onMove={handleMoveTask}\n            />\n        </div>\n    );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}